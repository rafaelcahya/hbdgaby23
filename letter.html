<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="index.css" />
        <title>Surat untuk Gaby</title>
        <script src="https://unpkg.com/preact@10.5.13/dist/preact.min.js"></script>
        <script src="https://unpkg.com/preact@10.5.13/hooks/dist/hooks.umd.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    </head>
    <body>
        <div id="app"></div>
        <script type="module">
            const { h, render, Component } = preact;
            const { useState, useEffect } = preactHooks;

            function Letter() {
                useEffect(() => {
                    const savedTime = localStorage.getItem("audioTime");
                    const audio = document.getElementById("birthdaySong");

                    if (savedTime) {
                        audio.currentTime = parseFloat(savedTime);
                    }

                    audio.play();

                    anime.timeline({ loop: false }).add({
                        targets: ".animate-text",
                        opacity: [0, 1],
                        translateY: [20, 0],
                        easing: "easeOutExpo",
                        duration: 1200,
                        delay: (el, i) => 300 + 30 * i,
                    });

                    return () => {
                        localStorage.setItem("audioTime", audio.currentTime);
                    };
                }, []);

                return h("div", { class: "message" }, [
                    h(
                        "p",
                        { class: "animate-text" },
                        "Disini aku memposisikan diri aku sebagai mantan"
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Oiyaa sebelum aku ngomong, kamu bisa terima kado ini. Buat bisa dapetin kado ini aja, aku engga masuk rumah sakit aja dah bersyukur hehehe"
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Aku ngomong ini sebagai ungkapan atau curhat atau apa yang aku rasakan tanpa kamu tau apa yang terjadi dibalik itu.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Oke sekarang aku mulai ngomong"
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Kamu pernah bilang.. 'coba deketin aku lewat chat'"
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Aku terus berusaha melakukan hal ini itu.. mencoba apapun.. buat aku bisa demi kamu.. walaupun aku tau aku ga bisa lewat chat"
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Tapi apa daya.. chat aku selalu di bales sehari sekali. Jujur.. itu bikin aku sakit hati.. aku harus selalu menenangkan diri aku sendiri.. sebelum memulai chat sama kamu.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Aku selalu excited sendirian..."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Kalo kamu tanya.. apakah aku capek? Ya jawabannya pasti capek.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Belum lagi tentang orang tua.."
                    ),
                    h("p", { class: "animate-text" }, "keluarga.."),
                    h("p", { class: "animate-text" }, "masa depan.."),
                    h("p", { class: "animate-text" }, "karir.."),
                    h(
                        "p",
                        { class: "animate-text" },
                        "apa yang aku inginkan.."
                    ),
                    h("p", { class: "animate-text" }, "apa yang aku pegang.."),
                    h("p", { class: "animate-text" }, "apa yang aku doakan.."),
                    h("p", { class: "animate-text" }, "ketakutan.."),
                    h("p", { class: "animate-text" }, "dan kamu.."),
                    h(
                        "p",
                        { class: "animate-text" },
                        "itu semua bergerak bebas di pikiran aku.. sampe bikin aku susah tidur.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "aku sampe lupa buat mikirin diri aku sendiri.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Kamu tau kan.. aku keras sama diri aku sendiri.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Kamu pernah denger cerita aku yang sepotong potong sehari sekali.. aku cerita.. kalo kepala aku sakit.. kepala aku kenceng.. karena aku mikirin banyak hal. Salah satunya itu kamu.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Cuman kamu sebagai wanita yang ada dipikiran aku kecuali mama.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Aku selalu bergerak dalam diam.. effort yang aku lakuin.. engga akan bisa kamu liat.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Aku selalu mencoba melakukan ini itu.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Di kamu mungkin ga berasa.. tapi kalo kamu coba perhatikan.. pasti akan berasa.. apa yang sebenernya terjadi.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Aku engga tau apa alasan yang sebenernya.. ketika kamu cuekin aku.. tapi aku bisa merasakan alasan yang sebenernya.. ntalah.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Kamu selalu membandingkan diri kamu sama aku.. Seolah olah kamu yang merasa paling capek.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Ya untungnya.. aku masih punya diri aku yang lain.. hati.. yang selalu nyemangatin.. yang selalu meredam capek dan sakit hati.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Mungkin aku egois.. aku mau di respon.. dll.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Tapi yang jadi topik bukan itu.. melainkan perasaan cinta aku ke kamu.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Semua yang aku dapetin.. cuman capek.. sakit fisik.. dan sakit hati.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Kata temenku.. aku terlalu berlebihan ngelakuin effort biar bisa balikan sama kamu lagi.."
                    ),
                    h("p", { class: "animate-text" }, "tapi.."),
                    h(
                        "p",
                        { class: "animate-text" },
                        "aku tidak memperdulikan omongan itu.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Setelah ada hal yang bikin aku sadar.. bahwa aku berlebihan.. Aku mau menyayangi diri aku sendiri kembali.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Ntah apa yang bikin kamu terlalu tinggi.. sampai kamu lupa.. ada orang yang yang ga mikirin dirinya sendiri.."
                    ),
                    h(
                        "p",
                        { class: "animate-text mb" },
                        "Yang kamu tau hanya lelahmu saja.. tanpa tau gimana lelah dan sakitnya orang lain.. yang sabar menghadapi sikap dan mood kamu.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Aku pernah cerita kalo aku sakit.. tapi aku ga pernah bilang apa yang terjadi kalo aku lanjutin usaha aku.."
                    ),
                    h(
                        "p",
                        { class: "animate-text mb" },
                        "Aku diminta buat slowdown.. karena aku punya batasan dan aku bukan Tuhan.."
                    ),
                    h(
                        "p",
                        { class: "animate-text mb" },
                        "Ada fisik dan perasaan yang perlu dijaga untuk diri sendiri.."
                    ),
                    h("p", { class: "animate-text mb" }, "Maaf.."),
                    h(
                        "p",
                        { class: "animate-text mb" },
                        "Maaf aku suka memaksa.."
                    ),
                    h(
                        "p",
                        { class: "animate-text mb" },
                        "Maaf aku suka nyariin kamu.."
                    ),
                    h(
                        "p",
                        { class: "animate-text mb" },
                        "Maaf kalo notif aku membuatmu terganggu.."
                    ),
                    h("p", { class: "animate-text mb" }, "Maaf ya.."),
                    h("p", { class: "animate-text" }, "✝"),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Sebab sekarang.. aku tidak mau melihat kamu hanya sepintas lalu saja.. Aku harap dapat tinggal agak lama dengan kamu.. jika diperkenankan Tuhan.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Banyak kesempatan bagiku untuk mengerjakan pekerjaan yang besar dan penting.. sekalipun ada banyak penentang.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "You say you love rain, but you use an umbrella to walk under it.."
                    ),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Aku gamau kehilangan kamu walaupun kita gapunya hubungan.."
                    ),
                    h("p", { class: "animate-text mb" }, "✝"),
                    h(
                        "p",
                        { class: "animate-text" },
                        "Aku mau menyayangi diriku lagi.."
                    ),
                    h("p", { class: "animate-text" }, "❤️"),
                    h("audio", {
                        id: "birthdaySong",
                        src: "./asset/song2.mp3",
                        loop: true,
                    }),
                ]);
            }

            render(h(Letter), document.getElementById("app"));
        </script>
    </body>
</html>
